#!/bin/csh

###################################################################
#                                                                 #
#   Script para transcribir texto utilizando Saga                 #
#  Transcripción en el dialecto hablado en Argentina (porteño)    #
#                                                                 #
#                                         José B. Mariño          #
#                                         Febrero de 1998         #
###################################################################

if ($#argv != 2) then
   echo "Usage: $0 file_orig file_dest"
   exit 1
endif

set bindir = __bindir__
set datadir = __datadir__

set fileIn = $1
set fileOut = $2

set DirDicc = $datadir/dicc/Arg
set DicExc = $DirDicc/ArgExc.dicc
set DicSust = $DirDicc/ArgSust.dicc
set DicGrp = $DirDicc/ArgDicGrp.dicc
set NovFon = $DirDicc/ArgNovFon.dicc

set PostProcesado = "cat"
set flag = "-MS -Mh"

( $bindir/saga $flag -d $DicExc -x $DicSust -g $DicGrp -l $NovFon -e errores$$ $fileIn | \
      $PostProcesado >! $fileOut ) >! extranyos$$

if (! -z errores$$) then
   echo "=====================================" >>! SAGA.ERRORES
   date >> SAGA.ERRORES
   cat $fileIn >> SAGA.ERRORES
   cat $fileOut >> SAGA.ERRORES
   cat errores$$ >> SAGA.ERRORES
endif

if (! -z extranyos$$) then
   echo "=====================================" >>! SAGA.ERRORES
   cat extranyos$$ >> SAGA.ERRORES
endif

\rm -f errores$$ extranyos$$

exit 0

